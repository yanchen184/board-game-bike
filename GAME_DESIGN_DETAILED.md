# 🚴‍♂️ 一日北高挑戰 - 詳細遊戲設計文檔

## 目錄
1. [遊戲核心理念](#遊戲核心理念)
2. [數值設計原則](#數值設計原則)
3. [系統概覽](#系統概覽)
4. [核心計算公式](#核心計算公式)
5. [平衡性設計理念](#平衡性設計理念)

## 遊戲核心理念

### 設計目標
- **策略深度**：每個決策都有明確的風險與回報
- **真實感**：基於實際騎行經驗的數值設計
- **可讀性**：玩家能直觀理解數值的影響
- **平衡性**：多種策略都有獲勝機會

### 核心玩法循環
1. **賽前準備** (30% 策略權重)
   - 角色選擇與搭配
   - 裝備配置優化
   - 路線規劃決策

2. **賽中執行** (50% 策略權重)
   - 隊形管理
   - 體力分配
   - 事件應對

3. **風險管理** (20% 策略權重)
   - 天氣適應
   - 機械故障處理
   - 團隊士氣維持

## 數值設計原則

### 基礎數值體系
- **百分制**：主要屬性使用 0-100 的數值
- **十進制**：次要屬性使用 1-10 的評級
- **整數優先**：避免小數點後多位數字
- **線性遞增**：等級之間保持固定差值

### 數值關係
```
基礎值 → 裝備加成 → 隊形加成 → 事件影響 → 最終值
```

### 平衡性三角
```
     速度
      /\
     /  \
    /    \
   /      \
  耐力----爬坡
```
每個角色在三角形中有不同的偏向，沒有絕對優勢。

## 系統概覽

### 1. 角色系統
- 8 種專業角色，各有獨特定位
- 6 項基礎屬性
- 特殊能力機制
- 協同效果設計

### 2. 裝備系統
- 3 大類裝備（車架、輪組、變速）
- 套裝組合加成
- 重量與性能平衡
- 價格與性能曲線

### 3. 隊形系統
- 5 種基礎隊形
- 動態切換機制
- 風阻計算系統
- 位置角色匹配

### 4. 事件系統
- 10+ 種隨機事件
- 多層決策樹
- 連鎖反應機制
- 風險評估系統

### 5. 路線系統
- 15 個路段設計
- 地形變化機制
- 補給站配置
- 關鍵決策點

## 核心計算公式

### 速度計算
```javascript
// 基礎速度計算
baseSpeed = characterSpeed * (1 + equipmentBonus)

// 地形影響
terrainFactor = {
  平路: 1.0,
  緩坡: 0.85,
  陡坡: 0.65,
  下坡: 1.25
}

// 體力影響（非線性衰減）
staminaFactor = {
  100-80%: 1.0,
  79-60%: 0.95,
  59-40%: 0.85,
  39-20%: 0.70,
  19-0%: 0.50
}

// 隊形風阻減免
formationBonus = {
  單人: 0,
  雙人並行: 0.15,
  單線隊形: 0.20,
  火車陣型: 0.25,
  鑽石隊形: 0.22
}

// 最終速度
effectiveSpeed = baseSpeed * terrainFactor * staminaFactor * (1 + formationBonus) * weatherFactor
```

### 體力消耗
```javascript
// 基礎消耗
baseConsumption = distance * consumptionRate

// 消耗率計算
consumptionRate = 1.0
  * (1 + (speed - 25) * 0.02)  // 速度影響
  * terrainMultiplier           // 地形影響
  * (1 - formationSaving)       // 隊形節省
  * weatherMultiplier            // 天氣影響
  * (1 + weight * 0.01)         // 重量影響

// 領騎額外消耗
if (isLeading) {
  consumptionRate *= 1.5
}
```

### 時間計算
```javascript
// 單段時間
segmentTime = segmentDistance / effectiveSpeed

// 總時間
totalTime = Σ(segmentTime) + penaltyTime - bonusTime

// 懲罰時間
penaltyTime =
  mechanicalFailures * 15分鐘 +
  wrongTurns * 10分鐘 +
  teamConflicts * 5分鐘

// 獎勵時間
bonusTime =
  perfectFormation * 5分鐘 +
  tailwind * 10分鐘 +
  teamSynergy * 8分鐘
```

## 平衡性設計理念

### 1. 無主導策略
- 速度流：高風險高回報，需要完美執行
- 耐力流：穩定但缺乏爆發力
- 平衡流：適應性強但沒有特別優勢
- 團隊流：需要高配合但回報豐厚

### 2. 動態平衡
- 前期優勢不代表最終勝利
- 多個追趕機制確保競爭性
- 風險與回報成正比

### 3. 玩家成長曲線
- 新手：簡單策略也能完成
- 中級：開始理解組合優勢
- 高手：精確計算和風險管理
- 專家：極限優化和創新策略

### 4. 反饋機制
- 即時反饋：每個決策立即看到影響
- 中期反饋：路段完成時的排名變化
- 終局反饋：詳細的數據分析報告

## 測試基準

### 標準完成時間
- **新手目標**：16-18 小時
- **普通目標**：14-16 小時
- **挑戰目標**：12-14 小時
- **極限目標**：10-12 小時

### 策略效率對比
| 策略類型 | 預期時間 | 成功率 | 風險等級 |
|---------|----------|--------|----------|
| 保守穩健 | 15-16小時 | 90% | 低 |
| 均衡發展 | 14-15小時 | 75% | 中 |
| 激進衝刺 | 12-14小時 | 50% | 高 |
| 團隊協作 | 13-14小時 | 70% | 中 |
| 極限挑戰 | 10-12小時 | 25% | 極高 |

## 版本管理
- **當前版本**：1.0.0
- **最後更新**：2024-11-19
- **設計負責人**：遊戲平衡團隊

## 相關文檔
- [角色數據表](./DATA_CHARACTERS.md)
- [裝備數據表](./DATA_EQUIPMENT.md)
- [隊形系統數據](./DATA_FORMATIONS.md)
- [事件系統數據](./DATA_EVENTS.md)
- [計算公式詳解](./FORMULAS.md)
- [路線設計](./ROUTE_DESIGN.md)
- [平衡性測試報告](./BALANCE_TESTING.md)